
{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- index.html content starts here -->
  <section>
    {% if messages %}
        {% for message in messages %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                <div class="alert alert-success" role="alert">
                  Success: {{message}}
                </div>
            {% endif %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="alert alert-danger" role="alert">
              Error: {{message}}
            </div>
          {% endif %}
        {% endfor %}
    {% endif %}
<h1>Tasks</h1>
    {% for task in tasks %}
    {% if  task.user_name == request.user %}
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">{{task.task_name}}</h5>
        <p class="card-text">{{task.description | truncatechars:100}}</p>   
        <a href="{% url 'delete' task.id %}" class="btn btn-outline-primary">Delete</a>
        <a href="{% url 'edit' task.id %}" class="btn btn-primary">View</a>
        
        
      </div>
    </div>
    {% endif %}
    {% endfor %}


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"></script>
</body>

{% endblock %}