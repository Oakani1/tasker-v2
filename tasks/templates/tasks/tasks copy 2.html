{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- index.html content starts here -->
<section>

  <div class="col-12, col-md-4 mb-md-5 mb-3">
    <p>Hello {{user}}</p>
    <h1 class="dahsboard-heading">Tasks</h1>

    <p class="text-center-align">Manage your tasks</p>
    <a href="{% url 'create' %}" type="button" class="btn btn-primary btn-lg btn-style col-12 ">Add New</a>
  </div>



  <!-- Blog Entries Column -->
    <div class="row">
      {% for task in tasks %}
      {% if task.user_name == request.user %}

      
      <div class=" d-inline-flex card card-style col-md-6 col-lg-3 col-12 m-1">
        <div class="card-body">
          <div class = "d-flex">
            <div class="col-3">
              <p class="card-text">{{task.progress}}%</p>
              <p class="card-text">{{task.get_status_display}}</p>
            </div>
            <div>
            <p class="card-title">{{task.task_name}}</p>
            <p class="card-text">{{task.get_priority_display}}<span> priority</span></p>
            <p class="card-text">{{task.start_time}}</span></p>
          </div>

          </div>
          <p class="card-text">{{task.description | truncatechars:100}}</p>
          <a href="{% url 'delete' task.id %}" class="btn btn-outline-primary">Delete</a>
          <a href="{% url 'edit' task.id %}" class="btn btn-primary">View</a>

        </div>
      </div>

      {% endif %}
      {% endfor %}
    </div>
  

</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

{% endblock %}